---
import BaseLayout from "@components/base/BaseLayout.astro";
import PageHeader from "@components/common/PageHeader.astro";
import type { HistoryEntry } from "@/types";

interface Props {
  entryIndex: HistoryEntry;
  entries: HistoryEntry[];
}

const { entryIndex, entries } = Astro.props;
---

<BaseLayout title={entryIndex.data.title} description={entryIndex.data.description}>
  <PageHeader title={entryIndex.data.title} />
  <section class="section">
    <div class="flex container row justify-center">
      <div class="col lg:col-8">
        <div class="glass rounded-lg p-4 intersect:animate-fadeUp opacity-0">
          <ul>
            {entries.sort((a, b) => Number.parseInt(b.data.title) - Number.parseInt(a.data.title)).map((entry) => (
                <a href={`/history/${entry.id}`}>
                  <button class="glass font-semibold py-2 px-4 border border-gray-400 rounded shadow">{entry.data.title}</button>
                </a>  
            ))}
          </ul>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>
